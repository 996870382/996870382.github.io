<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Scala," />










<meta name="description" content="Scala基本类型及操作基础数据类型Scala中基础数据类型有：Byte、Short、Int、Long、Float、Double，Boolean，Char、String。和Java不同的是，Scala中没在区分原生类型和装箱类型，如：int和Integer。它统一抽象成Int类型，这样在Scala中所有类型都是对象了。编译器在编译时将自动决定使用原生类型还是装箱类型。 字符串Scala中的字符串有">
<meta property="og:type" content="article">
<meta property="og:title" content="Scala 基础">
<meta property="og:url" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="piyi的小站">
<meta property="og:description" content="Scala基本类型及操作基础数据类型Scala中基础数据类型有：Byte、Short、Int、Long、Float、Double，Boolean，Char、String。和Java不同的是，Scala中没在区分原生类型和装箱类型，如：int和Integer。它统一抽象成Int类型，这样在Scala中所有类型都是对象了。编译器在编译时将自动决定使用原生类型还是装箱类型。 字符串Scala中的字符串有">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/1.jpg">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/2.jpg">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/3.jpg">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/4.jpg">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/5.jpg">
<meta property="og:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/6.jpg">
<meta property="article:published_time" content="2020-07-10T08:58:23.000Z">
<meta property="article:modified_time" content="2020-07-12T09:24:36.089Z">
<meta property="article:author" content="piyi">
<meta property="article:tag" content="Scala">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/1.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/07/10/Scala-基础/"/>





  <title>Scala 基础 | piyi的小站</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b15569dfb7ac0a3548e36ce0ac946914";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">piyi的小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">深度自闭中···</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="piyi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="piyi的小站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Scala 基础</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-10T16:58:23+08:00">
                2020-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">基础教程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Scala基本类型及操作"><a href="#Scala基本类型及操作" class="headerlink" title="Scala基本类型及操作"></a>Scala基本类型及操作</h1><h2 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h2><p>Scala中基础数据类型有：Byte、Short、Int、Long、Float、Double，Boolean，Char、String。和Java不同的是，Scala中没在区分原生类型和装箱类型，如：int和Integer。它统一抽象成Int类型，这样在Scala中所有类型都是对象了。编译器在编译时将自动决定使用原生类型还是装箱类型。</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>Scala中的字符串有3种。</p>
<p>分别是普通字符串，它的特性和Java字符串一至。<br>连线3个双引号在Scala中也有特殊含义，它代表被包裹的内容是原始字符串，可以不需要字符转码。这一特性在定义正则表达式时很有优势。<br>还有一种被称为“字符串插值”的字符串，他可以直接引用上下文中的变量，并把结果插入字符串中。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> c2 = '杨'</span><br><span class="line">c2: <span class="type">Char</span> = 杨</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> s1 = <span class="string">"重庆誉存企业信用管理有限公司"</span></span><br><span class="line">s1: <span class="type">String</span> = 重庆誉存企业信用管理有限公司</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> s2 = <span class="string">s"重庆誉存企业信用管理有限公司<span class="subst">$&#123;c2&#125;</span>景"</span></span><br><span class="line">s2: <span class="type">String</span> = 重庆誉存企业信用管理有限公司</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> s3 = <span class="string">s""</span><span class="string">"重庆誉存企业信用管理有限公司"</span>工程师<span class="string">"\n$&#123;c2&#125;景是江津人"</span><span class="string">""</span></span><br><span class="line">s3: <span class="type">String</span> =</span><br><span class="line">重庆誉存企业信用管理有限公司<span class="string">"工程师"</span></span><br><span class="line">杨景是江津人</span><br></pre></td></tr></table></figure>


<h2 id="Scala基本类型操作"><a href="#Scala基本类型操作" class="headerlink" title="Scala基本类型操作"></a>Scala基本类型操作</h2><p>在Scala中一切操作皆方法，这意味着Scala中的一切皆为对象</p>
<h3 id="算术操作"><a href="#算术操作" class="headerlink" title="算术操作"></a>算术操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//整数求和，编译器会将其转换为(1).+(2)执行</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> sumVlaue=<span class="number">1</span>+<span class="number">2</span></span><br><span class="line">sumVlaue: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//前一语句等同于下列语句</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> sumVlaue=(<span class="number">1</span>).+(<span class="number">2</span>)</span><br><span class="line">sumVlaue: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//操作符重载,编译器会将其转换为(1).+(2L)执行</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> longSum = <span class="number">1</span> + <span class="number">2</span>L</span><br><span class="line">longSum: <span class="type">Long</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//减法</span></span><br><span class="line">scala&gt; <span class="number">1</span><span class="number">-3</span></span><br><span class="line">res5: <span class="type">Int</span> = <span class="number">-2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//除法</span></span><br><span class="line">scala&gt; <span class="number">1</span>/<span class="number">3</span></span><br><span class="line">res6: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//取模</span></span><br><span class="line">scala&gt; <span class="number">1</span>%<span class="number">3</span></span><br><span class="line">res7: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//乘法</span></span><br><span class="line">scala&gt; <span class="number">1</span>L*<span class="number">3</span>L</span><br><span class="line">res8: <span class="type">Long</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//scala中可以用+ -符号来表示正负数，例如-3 +3，并且可以加入到运算符当中</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> y=<span class="number">1</span>+ <span class="number">-3</span></span><br><span class="line">y: <span class="type">Int</span> = <span class="number">-2</span></span><br></pre></td></tr></table></figure>

<h3 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&gt;运算符</span></span><br><span class="line">scala&gt; <span class="number">3</span> &gt; <span class="number">-3</span></span><br><span class="line">res12: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"><span class="comment">//&lt;运算符</span></span><br><span class="line">scala&gt; <span class="number">3</span> &lt; <span class="number">-3</span></span><br><span class="line">res13: <span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">//&lt;=运算符</span></span><br><span class="line">scala&gt; <span class="number">3</span> &lt;= <span class="number">-3</span></span><br><span class="line">res14: <span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">//&lt;=运算符</span></span><br><span class="line">scala&gt; <span class="number">3</span> &lt;=<span class="number">3</span></span><br><span class="line">res15: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"><span class="comment">//&lt;=运算符</span></span><br><span class="line">scala&gt; !(<span class="number">3</span>&lt;= <span class="number">-3</span>)</span><br><span class="line">res16: <span class="type">Boolean</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//逻辑与：&amp;&amp;</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> bool=<span class="literal">true</span></span><br><span class="line">bool: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">scala&gt; bool &amp;&amp; bool</span><br><span class="line">res17: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"><span class="comment">//逻辑或：||</span></span><br><span class="line">scala&gt; bool || bool</span><br><span class="line">res18: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">scala&gt; bool || !bool</span><br><span class="line">res20: <span class="type">Boolean</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 00000001</span></span><br><span class="line"><span class="comment">// 00000010</span></span><br><span class="line"><span class="comment">// 00000000</span></span><br><span class="line">scala&gt; <span class="number">1</span> &amp; <span class="number">2</span></span><br><span class="line">res24: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 00000001</span></span><br><span class="line"><span class="comment">// 00000010</span></span><br><span class="line"><span class="comment">// 00000011</span></span><br><span class="line">scala&gt; <span class="number">1</span> | <span class="number">2</span></span><br><span class="line">res24: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 00000001</span></span><br><span class="line"><span class="comment">// 00000011</span></span><br><span class="line"><span class="comment">// 00000010</span></span><br><span class="line">scala&gt; <span class="number">1</span> ^ <span class="number">3</span></span><br><span class="line">res24: <span class="type">Int</span> =<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//00000001</span></span><br><span class="line"><span class="comment">//11111110</span></span><br><span class="line">scala&gt; ~<span class="number">1</span></span><br><span class="line">res24: <span class="type">Int</span> =<span class="number">-2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//左移位（shift left）</span></span><br><span class="line"><span class="comment">//00000110</span></span><br><span class="line"><span class="comment">//00001100</span></span><br><span class="line">scala&gt; <span class="number">6</span> &lt;&lt; <span class="number">1</span></span><br><span class="line">res29: <span class="type">Int</span> = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//右移位（shift left）</span></span><br><span class="line"><span class="comment">//00000110</span></span><br><span class="line"><span class="comment">//00000011</span></span><br><span class="line">scala&gt; <span class="number">6</span> &gt;&gt; <span class="number">1</span></span><br><span class="line">res28: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//无符号右移（shift left）</span></span><br><span class="line"><span class="comment">//11111111111111111111111111111111</span></span><br><span class="line"><span class="comment">//00000000000000000000000000000001</span></span><br><span class="line">scala&gt; <span class="number">-1</span> &gt;&gt;&gt; <span class="number">31</span></span><br><span class="line">res32: <span class="type">Int</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="对象比较"><a href="#对象比较" class="headerlink" title="对象比较"></a>对象比较</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="number">1</span>==<span class="number">1</span></span><br><span class="line">res34: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="number">1</span>==<span class="number">1.0</span></span><br><span class="line">res35: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> x=<span class="string">"Hello"</span></span><br><span class="line">x: <span class="type">String</span> = <span class="type">Hello</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> y=<span class="string">"Hello"</span></span><br><span class="line">y: <span class="type">String</span> = <span class="type">Hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Scala中的对象比较不同于Java中的对象比较</span></span><br><span class="line"><span class="comment">//Scala基于内容比较，而java中比较的是引用，进行内容比较时须定义比较方法</span></span><br><span class="line">scala&gt; x==y</span><br><span class="line">res36: <span class="type">Boolean</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h1 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h1><p>Scala中支持<code>if</code>、<code>while</code>、<code>for comprehension</code>（for表达式)、<code>match case</code>（模式匹配）四大主要控制语句。Scala不支持<code>switch</code>和<code>?:</code>两种控制语句，但它的<code>if</code>和<code>match case</code>会有更好的实现。</p>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><p>Scala支持if语句，其基本使用和Java、Python中的一样。但不同的时，它是有返回值的。<br><strong><em>（注：Scala是函数式语言，函数式语言还有一大特性就是：表达式。函数式语言中所有语句都是基于“表达式”的，而“表达式”的一个特性就是它会有一个值。所有像Java中的<code>? :</code>3目运算符可以使用<code>if</code>语句来代替）。</em></strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">if</span> (<span class="literal">true</span>) <span class="string">"真"</span> <span class="keyword">else</span> <span class="string">"假"</span></span><br><span class="line">res0: <span class="type">String</span> = 真</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> f = <span class="keyword">if</span> (<span class="literal">false</span>) <span class="string">"真"</span> <span class="keyword">else</span> <span class="string">"假"</span></span><br><span class="line">f: <span class="type">String</span> = 假</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> unit = <span class="keyword">if</span> (<span class="literal">false</span>) <span class="string">"真"</span></span><br><span class="line">unit: <span class="type">Any</span> = ()</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> unit2 = <span class="keyword">if</span> (<span class="literal">true</span>) <span class="string">"真"</span> </span><br><span class="line">unit2: <span class="type">Any</span> = 真</span><br></pre></td></tr></table></figure>


<h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//while的使用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcdLoop</span></span>(x: <span class="type">Long</span>, y: <span class="type">Long</span>): <span class="type">Long</span> = &#123;</span><br><span class="line">        <span class="keyword">var</span> a = x</span><br><span class="line">        <span class="keyword">var</span> b = y</span><br><span class="line">        <span class="keyword">while</span> (a != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">val</span> temp = a</span><br><span class="line">            a = b % a</span><br><span class="line">            b = temp</span><br><span class="line">        &#125; </span><br><span class="line">        b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//do while的使用</span></span><br><span class="line"><span class="keyword">var</span> line = <span class="string">""</span></span><br><span class="line">do &#123;</span><br><span class="line">    line = readLine()</span><br><span class="line">    println(<span class="string">"Read: "</span>+ line)</span><br><span class="line">&#125; <span class="keyword">while</span> (line != <span class="string">""</span>)</span><br></pre></td></tr></table></figure>
<p>***注意：与if不同的是，while与do while不能用作表达式，也即其返回值为Unit，在某些函数式编程语言中，删除了while与do while程序控制结构，但scala仍然保留了while与do while，可见Scala并不是纯函数式编程语言（另外一个重要原因是，scala函数定义时仍然可以用var指定参数）。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//利用if替代while控制结构</span></span><br><span class="line"><span class="comment">//这些做可以减少var变量的使用，程序结构也更简单，表达能力更强</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span></span>(x: <span class="type">Long</span>, y: <span class="type">Long</span>): <span class="type">Long</span> =</span><br><span class="line"><span class="keyword">if</span> (y == <span class="number">0</span>) x <span class="keyword">else</span> gcd(y, x % y)</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> line = <span class="string">""</span></span><br><span class="line"><span class="keyword">while</span> ((line = readLine()) != <span class="string">""</span>) <span class="comment">// 在Scala中不能这么用，因为Scala中的赋值操作返回的值是Unit，而""是String类型，不能进行比较，这是函数式编程语言特有的特点</span></span><br><span class="line">println(<span class="string">"Read: "</span>+ line)</span><br></pre></td></tr></table></figure>

<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><p>Scala中也有for表达式，但它和Java中的for不太一样，它具有更强大的特性。通常的for语句如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (变量 &lt;- 集合) &#123;</span><br><span class="line">  语句块</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//程序中的&lt;-被称生成器（generator）</span></span><br></pre></td></tr></table></figure>

<p>Scala中for表达式除了上面那样的常规用法，它还可以使用yield关键字将集合映射为另一个集合：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> list2 = <span class="keyword">for</span> (item &lt;- list) <span class="keyword">yield</span> item + <span class="number">1</span></span><br><span class="line">list2: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<p>还可以在表达式中使用if判断：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list3 = <span class="keyword">for</span> (item &lt;- list <span class="keyword">if</span> item % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">yield</span> item</span><br><span class="line">list3: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>还可以做flatMap操作，解析2维列表并将结果摊平（将2维列表拉平为一维列表）：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> llist = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), <span class="type">List</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>), <span class="type">List</span>(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>))</span><br><span class="line">llist: <span class="type">List</span>[<span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), <span class="type">List</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>), <span class="type">List</span>(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">for</span> &#123;</span><br><span class="line">        l &lt;- llist</span><br><span class="line">        item &lt;- l <span class="keyword">if</span> item % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line">      &#125; <span class="keyword">yield</span> item</span><br><span class="line">res3: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<p><strong><em>Scala中for comprehension的特性是很强大的。Scala的整个集合库都支持这一特性，包括：Seq、Map、Set、Array……</em></strong></p>
<p>Scala没有C-Like语言里的for (int i = 0; i &lt; 10; i++)语法，但Range（范围这个概念），可以基于它来实现循环迭代功能。在Scala中的使用方式如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">for</span> (i &lt;- <span class="number">0</span> to <span class="number">10</span>) print(<span class="string">" "</span> + i)</span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">for</span> (i &lt;- <span class="number">0</span> until <span class="number">10</span>) print(<span class="string">" "</span> + i)</span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>你还可以控制每次步进的步长，只需要简单的使用by方法即可：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">for</span> (i &lt;- <span class="number">0</span> to <span class="number">10</span> by <span class="number">2</span>) print(<span class="string">" "</span> + i)</span><br><span class="line"> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span> <span class="number">6</span> <span class="number">8</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h2 id="match-case"><a href="#match-case" class="headerlink" title="match case"></a>match case</h2><p>模式匹配，是函数式语言很强大的一个特性。它比命令式语言里的switch更好用，表达性更强。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">level</span></span>(s: <span class="type">Int</span>) = s <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> n <span class="keyword">if</span> n &gt;= <span class="number">90</span> =&gt; <span class="string">"优秀"</span></span><br><span class="line">        <span class="keyword">case</span> n <span class="keyword">if</span> n &gt;= <span class="number">80</span> =&gt; <span class="string">"良好"</span></span><br><span class="line">        <span class="keyword">case</span> n <span class="keyword">if</span> n &gt;= <span class="number">70</span> =&gt; <span class="string">"良"</span></span><br><span class="line">        <span class="keyword">case</span> n <span class="keyword">if</span> n &gt;= <span class="number">60</span> =&gt; <span class="string">"及格"</span></span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">"差"</span></span><br><span class="line">      &#125;</span><br><span class="line">level: (s: <span class="type">Int</span>)<span class="type">String</span></span><br><span class="line"></span><br><span class="line">scala&gt; level(<span class="number">51</span>)</span><br><span class="line">res28: <span class="type">String</span> = 差</span><br><span class="line"></span><br><span class="line">scala&gt; level(<span class="number">93</span>)</span><br><span class="line">res29: <span class="type">String</span> = 优秀</span><br><span class="line"></span><br><span class="line">scala&gt; level(<span class="number">80</span>)</span><br><span class="line">res30: <span class="type">String</span> = 良好</span><br></pre></td></tr></table></figure>
<p>可以看到，模式匹配可以实现switch相似的功能。但与switch需要使用break明确告知终止之后的判断不同，Scala中的match case是默认break的。只要其中一个case语句匹配，就终止之后的所以比较。且对应case语句的表达式值将作为整个match case表达式的值返回。</p>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="定长数组"><a href="#定长数组" class="headerlink" title="定长数组"></a>定长数组</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个长度为10的数值数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> numberArray=<span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">10</span>)</span><br><span class="line">numberArray: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">//定义一个长度为10的String类型数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> strArray=<span class="keyword">new</span> <span class="type">Array</span>[<span class="type">String</span>](<span class="number">10</span>)</span><br><span class="line">strArray: <span class="type">Array</span>[<span class="type">String</span>] = <span class="type">Array</span>(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>,</span><br><span class="line"><span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以看出：复杂对象类型在数组定义时被初始化为null，数值型被初始化为0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组元素赋值</span></span><br><span class="line">scala&gt; strArray(<span class="number">0</span>)=<span class="string">"First Element"</span></span><br><span class="line"><span class="comment">//需要注意的是，val strArray=new Array[String](10)</span></span><br><span class="line"><span class="comment">//这意味着strArray不能被改变，但数组内容是可以改变的</span></span><br><span class="line">scala&gt; strArray</span><br><span class="line">res62: <span class="type">Array</span>[<span class="type">String</span>] = <span class="type">Array</span>(<span class="type">First</span> <span class="type">Element</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>,</span><br><span class="line"><span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//另一种定长数组定义方式</span></span><br><span class="line"><span class="comment">//这种调用方式其实是调用其apply方法进行数组创建操作</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> strArray2=<span class="type">Array</span>(<span class="string">"First"</span>,<span class="string">"Second"</span>)</span><br><span class="line">strArray2: <span class="type">Array</span>[<span class="type">String</span>] = <span class="type">Array</span>(<span class="type">First</span>, <span class="type">Second</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">Scala</span>中的<span class="type">Array</span>以<span class="type">Java</span>中的<span class="type">Array</span>方式实现</span><br></pre></td></tr></table></figure>

<h2 id="变长数组-ArrayBuffer"><a href="#变长数组-ArrayBuffer" class="headerlink" title="变长数组 ArrayBuffer"></a>变长数组 ArrayBuffer</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//要使用ArrayBuffer，先要引入scala.collection.mutable.ArrayBuffer</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建String类型ArrayBuffer数组缓冲</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> strArrayVar=<span class="type">ArrayBuffer</span>[<span class="type">String</span>]()</span><br><span class="line">strArrayVar: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">String</span>] = <span class="type">ArrayBuffer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//+=意思是在尾部添加元素</span></span><br><span class="line">scala&gt;     strArrayVar+=<span class="string">"Hello"</span></span><br><span class="line">res63: strArrayVar<span class="class">.<span class="keyword">type</span> </span>= <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//+=后面还可以跟多个元素的集合</span></span><br><span class="line"><span class="comment">//注意操作后的返回值</span></span><br><span class="line">scala&gt; strArrayVar+=(<span class="string">"World"</span>,<span class="string">"Programmer"</span>)</span><br><span class="line">res64: strArrayVar<span class="class">.<span class="keyword">type</span> </span>= <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>, <span class="type">World</span>, <span class="type">Programmer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//显示完整数组内容</span></span><br><span class="line">scala&gt; strArrayVar</span><br><span class="line">res65: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">String</span>] = <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>, <span class="type">World</span>,</span><br><span class="line"><span class="type">Programmer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//++=用于向数组中追加内容，++=右侧可以是任何集合</span></span><br><span class="line"><span class="comment">//追加Array数组</span></span><br><span class="line">scala&gt; strArrayVar++=<span class="type">Array</span>(<span class="string">"Wllcome"</span>,<span class="string">"To"</span>,<span class="string">"XueTuWuYou"</span>)</span><br><span class="line">res66: strArrayVar<span class="class">.<span class="keyword">type</span> </span>= <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>, <span class="type">World</span>, <span class="type">Programmer</span>, <span class="type">Wllcome</span>, <span class="type">To</span>, <span class="type">Xue</span></span><br><span class="line"><span class="type">TuWuYou</span>)</span><br><span class="line"><span class="comment">//追加List</span></span><br><span class="line">scala&gt; strArrayVar++=<span class="type">List</span>(<span class="string">"Wellcome"</span>,<span class="string">"To"</span>,<span class="string">"XueTuWuYou"</span>)</span><br><span class="line">res67: strArrayVar<span class="class">.<span class="keyword">type</span> </span>= <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>, <span class="type">World</span>, <span class="type">Programmer</span>, <span class="type">Wllcome</span>, <span class="type">To</span>, <span class="type">Xue</span></span><br><span class="line"><span class="type">TuWuYou</span>, <span class="type">Wellcome</span>, <span class="type">To</span>, <span class="type">XueTuWuYou</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除末尾n个元素</span></span><br><span class="line">scala&gt; strArrayVar.trimEnd(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; strArrayVar</span><br><span class="line">res69: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">String</span>] = <span class="type">ArrayBuffer</span>(<span class="type">Hello</span>, <span class="type">World</span>,</span><br><span class="line"><span class="type">Programmer</span>, <span class="type">Wllcome</span>, <span class="type">To</span>, <span class="type">XueTuWuYou</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建整型数组缓冲</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> intArrayVar=<span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">intArrayVar: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//在数组索引为0的位置插入元素6</span></span><br><span class="line">scala&gt; intArrayVar.insert(<span class="number">0</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; intArrayVar</span><br><span class="line">res72: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">6</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//在数组索引为0的位置插入元素7,8,9</span></span><br><span class="line">scala&gt; intArrayVar.insert(<span class="number">0</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; intArrayVar</span><br><span class="line">res74: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//从索引0开始，删除4个元素</span></span><br><span class="line">scala&gt; intArrayVar.remove(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; intArrayVar</span><br><span class="line">res77: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//转成定长数组</span></span><br><span class="line">scala&gt; intArrayVar.toArray</span><br><span class="line">res78: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//将定长数组转成ArrayBuffer</span></span><br><span class="line">scala&gt; res78.toBuffer</span><br><span class="line">res80: scala.collection.mutable.<span class="type">Buffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h2 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//to</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- <span class="number">0</span> to intArrayVar.length<span class="number">-1</span>) println(<span class="string">"Array Element: "</span> +intArrayVar(i))</span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">2</span></span><br><span class="line"><span class="comment">//until</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- <span class="number">0</span> until intArrayVar.length) println(<span class="string">"Array Element: "</span> +intArrayVar(i))</span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组方式（推荐使用）</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- intArrayVar) println(<span class="string">"Array Element: "</span> + i)</span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//步长为2</span></span><br><span class="line">scala&gt;  <span class="keyword">for</span>(i &lt;- <span class="number">0</span> until (intArrayVar.length,<span class="number">2</span>)) println(<span class="string">"Array Element: "</span> +intA</span><br><span class="line">rrayVar(i))</span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//倒序输出</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>( i&lt;- (<span class="number">0</span> until intArrayVar.length).reverse) println(<span class="string">"Array Element: "</span>+</span><br><span class="line"> intArrayVar(i))</span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">2</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br><span class="line"><span class="type">Array</span> <span class="type">Element</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="数组转换"><a href="#数组转换" class="headerlink" title="数组转换"></a>数组转换</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成新的数组，原数组不变</span></span><br><span class="line"><span class="comment">//缓冲数据转换后产生的仍然是缓冲数组</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> intArrayVar2=<span class="keyword">for</span>(i &lt;- intArrayVar) <span class="keyword">yield</span> i*<span class="number">2</span></span><br><span class="line">intArrayVar2: scala.collection.mutable.<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定长数组转转后产生的仍然是定长数组，原数组不变</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> intArrayNoBuffer=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">intArrayNoBuffer: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">var</span> intArrayNoBuffer2=<span class="keyword">for</span>(i &lt;- intArrayNoBuffer) <span class="keyword">yield</span> i*<span class="number">2</span></span><br><span class="line">intArrayNoBuffer2: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//加入过滤条件</span></span><br><span class="line">scala&gt;  <span class="keyword">var</span> intArrayNoBuffer2=<span class="keyword">for</span>(i &lt;- intArrayNoBuffer <span class="keyword">if</span> i&gt;=<span class="number">2</span>) <span class="keyword">yield</span> i*<span class="number">2</span></span><br><span class="line">intArrayNoBuffer2: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">4</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数组操作中的常用算法"><a href="#数组操作中的常用算法" class="headerlink" title="数组操作中的常用算法"></a>数组操作中的常用算法</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个整型数组</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> intArr=<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">intArr: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line">scala&gt; intArr.sum</span><br><span class="line">res87: <span class="type">Int</span> = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//求最大值</span></span><br><span class="line">scala&gt; intArr.max</span><br><span class="line">res88: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="type">ArrayBuffer</span>(<span class="string">"Hello"</span>,<span class="string">"Hell"</span>,<span class="string">"Hey"</span>,<span class="string">"Happy"</span>).max</span><br><span class="line">res90: <span class="type">String</span> = <span class="type">Hey</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//求最小值</span></span><br><span class="line">scala&gt; intArr.min</span><br><span class="line">res89: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//toString()方法</span></span><br><span class="line">scala&gt; intArr.toString()</span><br><span class="line">res94: <span class="type">String</span> = [<span class="type">I</span>@<span class="number">141</span>aba8</span><br><span class="line"></span><br><span class="line"><span class="comment">//mkString()方法</span></span><br><span class="line">scala&gt; intArr.mkString(<span class="string">","</span>)</span><br><span class="line">res96: <span class="type">String</span> = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; intArr.mkString(<span class="string">"&lt;"</span>,<span class="string">","</span>,<span class="string">"&gt;"</span>)</span><br><span class="line">res97: <span class="type">String</span> = &lt;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&gt;</span><br></pre></td></tr></table></figure>
<h2 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义2行3列数组</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> multiDimArr=<span class="type">Array</span>(<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),<span class="type">Array</span>(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">multiDimArr: <span class="type">Array</span>[<span class="type">Array</span>[<span class="type">Int</span>]] = <span class="type">Array</span>(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), <span class="type">Array</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取第一行第三列元素</span></span><br><span class="line">scala&gt; multiDimArr(<span class="number">0</span>)(<span class="number">2</span>)</span><br><span class="line">res99: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//多维数组的遍历</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>(i &lt;- multiDimArr) println( i.mkString(<span class="string">","</span>))</span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br></pre></td></tr></table></figure>

<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><p>在java.util包下有丰富的集合库。Scala除了可以使用Java定义的集合库外，它还自己定义了一套功能强大、特性丰富的scala.collection集合库API。</p>
<p>在Scala中，常用的集合类型有：List、Set、Map、Tuple、Vector等。</p>
<h2 id="mutable、immutable集合"><a href="#mutable、immutable集合" class="headerlink" title="mutable、immutable集合"></a>mutable、immutable集合</h2><p>scala中的集合分为两种，一种是可变的集合，另一种是不可变的集合<br>可变的集合可以更新或修改，添加、删除、修改元素将作用于原集合<br>不可变集合一量被创建，便不能被改变，添加、删除、更新操作返回的是新的集合，老集合保持不变</p>
<p>scala.collection.immutable包中的集合绝对是不可变的，函数式编程语言推崇使用immutable集合<br>scala.collection.mutable包中的集合在是可变的，使用的时候必须明白集合何时发生变化</p>
<p>在scala中，默认使用的都是immutable集合，如果要使用mutable集合，需要在程序中引入</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="comment">//由于immutable是默认导入的，因此要使用mutable中的集合的话</span></span><br><span class="line"><span class="comment">//使用如下语句</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> mutableSet=mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">mutableSet: scala.collection.mutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">//不指定的话，创建的是immutable 集合</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> mutableSet=<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">mutableSet: scala.collection.immutable.<span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="scala集合类的层次结构"><a href="#scala集合类的层次结构" class="headerlink" title="scala集合类的层次结构"></a>scala集合类的层次结构</h3><p>scala.collection包中的集合类层次结构如下图：<br><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/1.jpg" alt="img"></p>
<p>scala.collection.immutable包中的类层次结构:<br><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/2.jpg" alt="img"></p>
<p>scala.collection.mutable包中的类层次结构:<br><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/3.jpg" alt="img"></p>
<h3 id="可变集合与不可变集合对应关系"><a href="#可变集合与不可变集合对应关系" class="headerlink" title="可变集合与不可变集合对应关系"></a>可变集合与不可变集合对应关系</h3><p><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/4.jpg" alt="img"></p>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>Scala中List是一个不可变列表集合，它很精妙的使用递归结构定义了一个列表集合。</p>
<h3 id="List常用构造方法"><a href="#List常用构造方法" class="headerlink" title="List常用构造方法"></a>List常用构造方法</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p>除了之前使用Listobject来定义一个列表，还可以使用如下方式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> list = <span class="number">1</span> :: <span class="number">2</span> :: <span class="number">3</span> :: <span class="number">4</span> :: <span class="number">5</span> :: <span class="type">Nil</span></span><br><span class="line">list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p>List采用前缀操作的方式（所有操作都在列表顶端（开头））进行，::操作符的作用是将一个元素和列表连接起来，并把元素放在列表的开头。这样List的操作就可以定义成一个递归操作。添加一个元素就是把元素加到列表的开头，List只需要更改下头指针，而删除一个元素就是把List的头指针指向列表中的第2个元素。这样，List的实现就非常的高效，它也不需要对内存做任何的转移操作</p>
<h3 id="List常用操作"><a href="#List常用操作" class="headerlink" title="List常用操作"></a>List常用操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断是否为空</span></span><br><span class="line">scala&gt; nums.isEmpty</span><br><span class="line">res108: <span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//取第一个无素</span></span><br><span class="line">scala&gt; nums.head</span><br><span class="line">res109: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//取除第一个元素外剩余的元素，返回的是列表</span></span><br><span class="line">scala&gt; nums.tail</span><br><span class="line">res114: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//取列表第二个元素</span></span><br><span class="line">scala&gt; nums.tail.head</span><br><span class="line">res115: <span class="type">Int</span> = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//插入排序算法实现</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isort</span></span>(xs: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">List</span>[<span class="type">Int</span>] =</span><br><span class="line"><span class="keyword">if</span> (xs.isEmpty) <span class="type">Nil</span></span><br><span class="line"><span class="keyword">else</span> insert(xs.head, isort(xs.tail))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(x: <span class="type">Int</span>, xs: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">List</span>[<span class="type">Int</span>] =</span><br><span class="line"><span class="keyword">if</span> (xs.isEmpty || x &lt;= xs.head) x :: xs</span><br><span class="line"><span class="keyword">else</span> xs.head :: insert(x, xs.tail)</span><br><span class="line"></span><br><span class="line"><span class="comment">//List连接操作</span></span><br><span class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>):::<span class="type">List</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">res116: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//取除最后一个元素外的元素，返回的是列表</span></span><br><span class="line">scala&gt; nums.init</span><br><span class="line">res117: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//取列表最后一个元素</span></span><br><span class="line">scala&gt; nums.last</span><br><span class="line">res118: <span class="type">Int</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//列表元素倒置</span></span><br><span class="line">scala&gt; nums.reverse</span><br><span class="line">res119: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//一些好玩的方法调用</span></span><br><span class="line">scala&gt; nums.reverse.reverse==nums</span><br><span class="line">res120: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">scala&gt; nums.reverse.init</span><br><span class="line">res121: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; nums.tail.reverse</span><br><span class="line">res122: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//丢弃前n个元素</span></span><br><span class="line">scala&gt; nums drop <span class="number">3</span></span><br><span class="line">res123: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; nums drop <span class="number">1</span></span><br><span class="line">res124: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取前n个元素</span></span><br><span class="line">scala&gt; nums take <span class="number">1</span></span><br><span class="line">res125: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; nums.take(<span class="number">3</span>)</span><br><span class="line">res126: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//将列表进行分割</span></span><br><span class="line">scala&gt; nums.splitAt(<span class="number">2</span>)</span><br><span class="line">res127: (<span class="type">List</span>[<span class="type">Int</span>], <span class="type">List</span>[<span class="type">Int</span>]) = (<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>),<span class="type">List</span>(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//前一个操作与下列语句等同</span></span><br><span class="line">scala&gt; (nums.take(<span class="number">2</span>),nums.drop(<span class="number">2</span>))</span><br><span class="line">res128: (<span class="type">List</span>[<span class="type">Int</span>], <span class="type">List</span>[<span class="type">Int</span>]) = (<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>),<span class="type">List</span>(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//Zip操作</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> nums=<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">nums: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> chars=<span class="type">List</span>('<span class="number">1</span>','<span class="number">2</span>','<span class="number">3</span>','<span class="number">4</span>')</span><br><span class="line">chars: <span class="type">List</span>[<span class="type">Char</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回的是List类型的元组(Tuple）</span></span><br><span class="line">scala&gt; nums zip chars</span><br><span class="line">res130: <span class="type">List</span>[(<span class="type">Int</span>, <span class="type">Char</span>)] = <span class="type">List</span>((<span class="number">1</span>,<span class="number">1</span>), (<span class="number">2</span>,<span class="number">2</span>), (<span class="number">3</span>,<span class="number">3</span>), (<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//List toString方法</span></span><br><span class="line">scala&gt; nums.toString</span><br><span class="line">res131: <span class="type">String</span> = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//List mkString方法</span></span><br><span class="line">scala&gt; nums.mkString</span><br><span class="line">res132: <span class="type">String</span> = <span class="number">1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//转换成数组</span></span><br><span class="line">scala&gt; nums.toArray</span><br><span class="line">res134: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h3 id="List伴生对象方法"><a href="#List伴生对象方法" class="headerlink" title="List伴生对象方法"></a>List伴生对象方法</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//apply方法</span></span><br><span class="line">scala&gt;  <span class="type">List</span>.apply(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">res139: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//range方法，构建某一值范围内的List</span></span><br><span class="line">scala&gt;  <span class="type">List</span>.range(<span class="number">2</span>, <span class="number">6</span>)</span><br><span class="line">res140: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//步长为2</span></span><br><span class="line">scala&gt;  <span class="type">List</span>.range(<span class="number">2</span>, <span class="number">6</span>,<span class="number">2</span>)</span><br><span class="line">res141: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//步长为-1</span></span><br><span class="line">scala&gt;  <span class="type">List</span>.range(<span class="number">2</span>, <span class="number">6</span>,<span class="number">-1</span>)</span><br><span class="line">res142: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>()</span><br><span class="line"></span><br><span class="line">scala&gt;  <span class="type">List</span>.range(<span class="number">6</span>,<span class="number">2</span> ,<span class="number">-1</span>)</span><br><span class="line">res143: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//构建相同元素的List</span></span><br><span class="line">scala&gt; <span class="type">List</span>.make(<span class="number">5</span>, <span class="string">"hey"</span>)</span><br><span class="line">res144: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(hey, hey, hey, hey, hey)</span><br><span class="line"></span><br><span class="line"><span class="comment">//unzip方法</span></span><br><span class="line">scala&gt; <span class="type">List</span>.unzip(res145)</span><br><span class="line">res146: (<span class="type">List</span>[<span class="type">Int</span>], <span class="type">List</span>[<span class="type">Char</span>]) = (<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>),<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//list.flatten，将列表平滑成第一个无素</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> xss =</span><br><span class="line">     | <span class="type">List</span>(<span class="type">List</span>('a', 'b'), <span class="type">List</span>('c'), <span class="type">List</span>('d', 'e'))</span><br><span class="line">xss: <span class="type">List</span>[<span class="type">List</span>[<span class="type">Char</span>]] = <span class="type">List</span>(<span class="type">List</span>(a, b), <span class="type">List</span>(c), <span class="type">List</span>(d, e))</span><br><span class="line">scala&gt; xss.flatten</span><br><span class="line">res147: <span class="type">List</span>[<span class="type">Char</span>] = <span class="type">List</span>(a, b, c, d, e)</span><br><span class="line"></span><br><span class="line"><span class="comment">//列表连接</span></span><br><span class="line">scala&gt; <span class="type">List</span>.concat(<span class="type">List</span>('a', 'b'), <span class="type">List</span>('c'))</span><br><span class="line">res148: <span class="type">List</span>[<span class="type">Char</span>] = <span class="type">List</span>(a</span><br><span class="line">, b, c)</span><br></pre></td></tr></table></figure>

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p> Set（集）是一种不存在重复元素的集合，它与数学上定义的集合是对应的<br> <figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//定义一个集合</span></span><br><span class="line"><span class="comment">//这里使用的是mutable</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> numsSet=<span class="type">Set</span>(<span class="number">3.0</span>,<span class="number">5</span>)</span><br><span class="line">numsSet: scala.collection.mutable.<span class="type">Set</span>[<span class="type">Double</span>] = <span class="type">Set</span>(<span class="number">5.0</span>, <span class="number">3.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//向集中添加一个元素，同前一讲中的列表和数组不一样的是</span></span><br><span class="line"><span class="comment">//，Set在插入元素时并不保元素的顺序</span></span><br><span class="line"><span class="comment">//默认情况下，Set的实现方式是HashSet实现方式，</span></span><br><span class="line"><span class="comment">//集中的元素通过HashCode值进行组织</span></span><br><span class="line">scala&gt; numsSet+<span class="number">6</span></span><br><span class="line">res20: scala.collection.mutable.<span class="type">Set</span>[<span class="type">Double</span>] = <span class="type">Set</span>(<span class="number">5.0</span>, <span class="number">6.0</span>, <span class="number">3.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历集</span></span><br><span class="line">scala&gt; <span class="keyword">for</span> ( i &lt;- res20 ) println(i)</span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="number">6.0</span></span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//过滤元素</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> set = <span class="type">Set</span>(<span class="string">"Scala"</span>, <span class="string">"Java"</span>, <span class="string">"C++"</span>, <span class="string">"Javascript"</span>, <span class="string">"C#"</span>, <span class="string">"Python"</span>, <span class="string">"PHP"</span>) </span><br><span class="line">scala&gt; set filterNot (item =&gt; item == <span class="string">"PHP"</span>)</span><br><span class="line">res22: scala.collection.immutable.<span class="type">Set</span>[<span class="type">String</span>] = <span class="type">Set</span>(<span class="type">Scala</span>, <span class="type">C</span>#, <span class="type">Python</span>, <span class="type">Javascript</span>, <span class="type">C</span>++, <span class="type">Java</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果对插入的顺序有着严格的要求，则采用scala.collection.mutalbe.LinkedHashSet来实现</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> linkedHashSet=scala.collection.mutable.<span class="type">LinkedHashSet</span>(<span class="number">3.0</span>,<span class="number">5</span>)</span><br><span class="line">linkedHashSet: scala.collection.mutable.<span class="type">LinkedHashSet</span>[<span class="type">Double</span>] = <span class="type">Set</span>(<span class="number">3.0</span>, <span class="number">5.0</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; linkedHashSet+<span class="number">6</span></span><br><span class="line">res26: scala.collection.mutable.<span class="type">LinkedHashSet</span>[<span class="type">Double</span>] = <span class="type">Set</span>(<span class="number">3.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p> Scala中的Map默认是一个HashMap，其特性与Java版的HashMap基本一至，除了它是Immutable的：<br> <figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//直接初始化</span></span><br><span class="line"><span class="comment">// -&gt;操作符，左边是key,右边是value</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> studentInfo=<span class="type">Map</span>(<span class="string">"john"</span> -&gt; <span class="number">21</span>, <span class="string">"stephen"</span> -&gt; <span class="number">22</span>,<span class="string">"lucy"</span> -&gt; <span class="number">20</span>)</span><br><span class="line">studentInfo: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(john -&gt; <span class="number">21</span>, stephe</span><br><span class="line">n -&gt; <span class="number">22</span>, lucy -&gt; <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//immutable不可变，它不具有以下操作</span></span><br><span class="line">scala&gt; studentInfo.clear()</span><br><span class="line">&lt;console&gt;:<span class="number">10</span>: error: value clear is not a member of scala.collection.immutable.<span class="type">M</span></span><br><span class="line">ap[<span class="type">String</span>,<span class="type">Int</span>]</span><br><span class="line">              studentInfo.clear()</span><br><span class="line">                          ^</span><br><span class="line"><span class="comment">//创建可变的Map</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> studentInfoMutable=scala.collection.mutable.<span class="type">Map</span>(<span class="string">"john"</span> -&gt; <span class="number">21</span>, <span class="string">"stephe</span></span><br><span class="line"><span class="string">n"</span> -&gt; <span class="number">22</span>,<span class="string">"lucy"</span> -&gt; <span class="number">20</span>)</span><br><span class="line">studentInfoMutable: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(john -&gt; <span class="number">21</span>, l</span><br><span class="line">ucy -&gt; <span class="number">20</span>, stephen -&gt; <span class="number">22</span>)</span><br><span class="line"><span class="comment">//mutable Map可变，比如可以将其内容清空</span></span><br><span class="line">scala&gt; studentInfoMutable.clear()</span><br><span class="line"></span><br><span class="line">scala&gt; studentInfoMutable</span><br><span class="line">res3: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历操作1</span></span><br><span class="line">scala&gt; <span class="keyword">for</span>( i &lt;- studentInfoMutable ) println(i)</span><br><span class="line">(john,<span class="number">21</span>)</span><br><span class="line">(lucy,<span class="number">20</span>)</span><br><span class="line">(stephen,<span class="number">22</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历操作2</span></span><br><span class="line">scala&gt; studentInfoMutable.foreach(e=&gt;</span><br><span class="line">&#123;<span class="keyword">val</span> (k,v)=e; println(k+<span class="string">":"</span>+v)&#125;</span><br><span class="line">)</span><br><span class="line">john:<span class="number">21</span></span><br><span class="line">lucy:<span class="number">20</span></span><br><span class="line">stephen:<span class="number">22</span></span><br><span class="line"><span class="comment">//遍历操作3</span></span><br><span class="line">scala&gt; studentInfoMutable.foreach(e=&gt; println(e._1+<span class="string">":"</span>+e._2))</span><br><span class="line">john:<span class="number">21</span></span><br><span class="line">lucy:<span class="number">20</span></span><br><span class="line">stephen:<span class="number">22</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个空的Map</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> xMap=<span class="keyword">new</span> scala.collection.mutable.<span class="type">HashMap</span>[<span class="type">String</span>,<span class="type">Int</span>]()</span><br><span class="line">xMap: scala.collection.mutable.<span class="type">HashMap</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//往里面填充值</span></span><br><span class="line">scala&gt; xMap.put(<span class="string">"spark"</span>,<span class="number">1</span>)</span><br><span class="line">res12: <span class="type">Option</span>[<span class="type">Int</span>] = <span class="type">None</span></span><br><span class="line"></span><br><span class="line">scala&gt; xMap</span><br><span class="line">res13: scala.collection.mutable.<span class="type">HashMap</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(spark -&gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否包含spark字符串</span></span><br><span class="line">scala&gt; xMap.contains(<span class="string">"spark"</span>)</span><br><span class="line">res14: <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt; 初始化Map，也可以通过 ("spark",1)这种方式实现(元组的形式）</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> xMap=scala.collection.mutable.<span class="type">Map</span>((<span class="string">"spark"</span>,<span class="number">1</span>),(<span class="string">"hive"</span>,<span class="number">1</span>))</span><br><span class="line">xMap: scala.collection.mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(spark -&gt; <span class="number">1</span>, hive -&gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="string">"spark"</span> -&gt; <span class="number">1</span></span><br><span class="line">res18: (<span class="type">String</span>, <span class="type">Int</span>) = (spark,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元素</span></span><br><span class="line">scala&gt; xMap.get(<span class="string">"spark"</span>)</span><br><span class="line">res19: <span class="type">Option</span>[<span class="type">Int</span>] = <span class="type">Some</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; xMap.get(<span class="string">"SparkSQL"</span>)</span><br><span class="line">res20: <span class="type">Option</span>[<span class="type">Int</span>] = <span class="type">None</span></span><br></pre></td></tr></table></figure></p>
<p> Scala的immutable collection并没有添加和删除元素的操作，其定义+（List使用::在头部添加）操作都是生成一个新的集合，而要删除一个元素一般使用 - 操作直接将Key从map中减掉即可。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; map + (<span class="string">"z"</span> -&gt; <span class="string">"Z"</span>)</span><br><span class="line">res23: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">String</span>] = <span class="type">Map</span>(a -&gt; <span class="type">A</span>, b -&gt; <span class="type">B</span>, z -&gt; <span class="type">Z</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; map.filterNot(entry =&gt; entry._1 == <span class="string">"a"</span>)</span><br><span class="line">res24: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">String</span>] = <span class="type">Map</span>(b -&gt; <span class="type">B</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> map3 = map - <span class="string">"a"</span></span><br><span class="line">map3: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">String</span>] = <span class="type">Map</span>(b -&gt; <span class="type">B</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; map</span><br><span class="line">res25: scala.collection.immutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">String</span>] = <span class="type">Map</span>(a -&gt; <span class="type">A</span>, b -&gt; <span class="type">B</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Option-None-Some类型"><a href="#Option-None-Some类型" class="headerlink" title="Option,None,Some类型"></a>Option,None,Some类型</h3><p>Option、None、Some是scala中定义的类型，它们在scala语言中十分常用，因此这三个类型非学重要。<br>None、Some是Option的子类，它主要解决值为null的问题，在java语言中，对于定义好的HashMap，如果get方法中传入的键不存在，方法会返回null，在编写代码的时候对于null的这种情况通常需要特殊处理，然而在实际中经常会忘记，因此它很容易引起 NullPointerException异常。在Scala语言中通过Option、None、Some这三个类来避免这样的问题，这样做有几个好处，首先是代码可读性更强，当看到Option时，我们自然而然就知道它的值是可选的，然后变量是Option，比如Option[String]的时候，直接使用String的话，编译直接通不过。</p>
<p>前面我们看到<br><code>scala&gt; xMap.get(&quot;spark&quot;)</code><br><code>res19: Option[Int] = Some(1)</code></p>
<p>那要怎么才能获取到最终的结果呢，</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过模式匹配得到最终的结果</span></span><br><span class="line">scala&gt; <span class="function"><span class="keyword">def</span> <span class="title">show</span></span>(x:<span class="type">Option</span>[<span class="type">Int</span>]) =x <span class="keyword">match</span>&#123;</span><br><span class="line"> <span class="keyword">case</span> <span class="type">Some</span>(s) =&gt; s</span><br><span class="line"> <span class="keyword">case</span> <span class="type">None</span> =&gt; “????”</span><br><span class="line"> &#125;</span><br><span class="line">show: (x: <span class="type">Option</span>[<span class="type">Int</span>])<span class="type">Any</span></span><br><span class="line"></span><br><span class="line">scala&gt; show(xMap.get(“spark”))</span><br><span class="line">res21: <span class="type">Any</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">scala&gt; show(xMap.get(“sparkSQL”))</span><br><span class="line">res22: <span class="type">Any</span> = ????</span><br></pre></td></tr></table></figure>

<h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2><p>Scala中也支持Tuple（元组）这种集合，但最多只支持22个元素（事实上Scala中定义了Tuple0、Tuple1……Tuple22这样22个TupleX类，实现方式与C++ Boost库中的Tuple类似）。和大多数语言的Tuple类似（比如：Python），Scala也采用小括号来定义元组。</p>
<p>前面我们提到Map是键值对的集合，元组则是不同类型值的聚集</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//元组的定义</span></span><br><span class="line">scala&gt; (<span class="string">"hello"</span>,<span class="string">"china"</span>,<span class="string">"beijing"</span>)</span><br><span class="line">res23: (<span class="type">String</span>, <span class="type">String</span>, <span class="type">String</span>) = (hello,china,beijing)</span><br><span class="line"></span><br><span class="line">scala&gt; (<span class="string">"hello"</span>,<span class="string">"china"</span>,<span class="number">1</span>)</span><br><span class="line">res24: (<span class="type">String</span>, <span class="type">String</span>, <span class="type">Int</span>) = (hello,china,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">var</span> tuple=(<span class="string">"Hello"</span>,<span class="string">"China"</span>,<span class="number">1</span>)</span><br><span class="line">tuple: (<span class="type">String</span>, <span class="type">String</span>, <span class="type">Int</span>) = (<span class="type">Hello</span>,<span class="type">China</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//访问元组内容</span></span><br><span class="line">scala&gt; tuple._1</span><br><span class="line">res25: <span class="type">String</span> = <span class="type">Hello</span></span><br><span class="line"></span><br><span class="line">scala&gt; tuple._2</span><br><span class="line">res26: <span class="type">String</span> = <span class="type">China</span></span><br><span class="line"></span><br><span class="line">scala&gt; tuple._3</span><br><span class="line">res27: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过模式匹配获取元组内容</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> (first, second, third)=tuple</span><br><span class="line">first: <span class="type">String</span> = <span class="type">Hello</span></span><br><span class="line">second: <span class="type">String</span> = <span class="type">China</span></span><br><span class="line">third: <span class="type">Int</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="队列-queue"><a href="#队列-queue" class="headerlink" title="队列 queue"></a>队列 queue</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//immutable Queue</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> queue=scala.collection.immutable.<span class="type">Queue</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">queue: scala.collection.immutable.<span class="type">Queue</span>[<span class="type">Int</span>] = <span class="type">Queue</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line">scala&gt; queue.dequeue</span><br><span class="line">res38: (<span class="type">Int</span>, scala.collection.immutable.<span class="type">Queue</span>[<span class="type">Int</span>]) = (<span class="number">1</span>,<span class="type">Queue</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队</span></span><br><span class="line">scala&gt; queue.enqueue(<span class="number">4</span>)</span><br><span class="line">res40: scala.collection.immutable.<span class="type">Queue</span>[<span class="type">Int</span>] = <span class="type">Queue</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//mutable queue</span></span><br><span class="line">scala&gt; <span class="keyword">var</span> queue=scala.collection.mutable.<span class="type">Queue</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">queue: scala.collection.mutable.<span class="type">Queue</span>[<span class="type">Int</span>] = <span class="type">Queue</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队操作</span></span><br><span class="line">scala&gt; queue += <span class="number">5</span></span><br><span class="line">res43: scala.collection.mutable.<span class="type">Queue</span>[<span class="type">Int</span>] = <span class="type">Queue</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//集合方式</span></span><br><span class="line">scala&gt; queue ++= <span class="type">List</span>(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">res45: scala.collection.mutable.<span class="type">Queue</span>[<span class="type">Int</span>] = <span class="type">Queue</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h2 id="栈-Stack"><a href="#栈-Stack" class="headerlink" title="栈 Stack"></a>栈 Stack</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mutable Stack</span></span><br><span class="line">scala&gt; <span class="keyword">import</span> scala.collection.mutable.<span class="type">Stack</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">Stack</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//new 创建方式</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> stack = <span class="keyword">new</span> <span class="type">Stack</span>[<span class="type">Int</span>]</span><br><span class="line">stack: scala.collection.mutable.<span class="type">Stack</span>[<span class="type">Int</span>] = <span class="type">Stack</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//Apply创建方式</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> stack1=<span class="type">Stack</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">stack1: scala.collection.mutable.<span class="type">Stack</span>[<span class="type">Int</span>] = <span class="type">Stack</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line">scala&gt; stack1.top</span><br><span class="line">res55: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//入栈</span></span><br><span class="line">scala&gt; stack.push(<span class="number">1</span>)</span><br><span class="line">res57: stack<span class="class">.<span class="keyword">type</span> </span>= <span class="type">Stack</span>(<span class="number">1</span>)</span><br><span class="line"><span class="comment">//入栈</span></span><br><span class="line">scala&gt; stack.push(<span class="number">2</span>)</span><br><span class="line">res58: stack<span class="class">.<span class="keyword">type</span> </span>= <span class="type">Stack</span>(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line">scala&gt; stack.top</span><br><span class="line">res59: <span class="type">Int</span> = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">scala&gt; stack</span><br><span class="line">res60: scala.collection.mutable.<span class="type">Stack</span>[<span class="type">Int</span>] = <span class="type">Stack</span>(<span class="number">2</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h1 id="函数与闭包"><a href="#函数与闭包" class="headerlink" title="函数与闭包"></a>函数与闭包</h1><h2 id="函数字面量（值函数）"><a href="#函数字面量（值函数）" class="headerlink" title="函数字面量（值函数）"></a>函数字面量（值函数）</h2><p>函数字面量（function literal），也称值函数（function values），指的是函数可以赋值给变量。</p>
<p>一般函数具有如下形式：<br><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/5.jpg" alt="img"></p>
<p>函数字面量具有如下形式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   函数字面量 function literal</span></span><br><span class="line"><span class="comment">   =&gt;左侧的表示输入，右侧表示转换操作</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> increase=(x:<span class="type">Int</span>)=&gt;x+<span class="number">1</span></span><br><span class="line">increase: <span class="type">Int</span> =&gt; <span class="type">Int</span> = &lt;function1&gt;</span><br><span class="line"></span><br><span class="line">scala&gt; println(increase(<span class="number">10</span>))</span><br><span class="line"><span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//前面的语句等同于</span></span><br><span class="line">scala&gt;  <span class="function"><span class="keyword">def</span> <span class="title">increaseAnother</span></span>(x:<span class="type">Int</span>)=x+<span class="number">1</span></span><br><span class="line">increaseAnother: (x: <span class="type">Int</span>)<span class="type">Int</span></span><br><span class="line"></span><br><span class="line">scala&gt; println(increaseAnother(<span class="number">10</span>))</span><br><span class="line"><span class="number">11</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//多个语句则使用&#123;&#125;</span></span><br><span class="line"><span class="keyword">val</span> increase2=(x:<span class="type">Int</span>)=&gt;&#123;</span><br><span class="line">      println(<span class="string">"Xue"</span>)</span><br><span class="line">      println(<span class="string">"Tu"</span>)</span><br><span class="line">      println(<span class="string">"Wu"</span>)</span><br><span class="line">      println(<span class="string">"You"</span>)</span><br><span class="line">      x+<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">scala&gt;println(increase2(<span class="number">10</span>))</span><br><span class="line"><span class="type">Xue</span></span><br><span class="line"><span class="type">Tu</span></span><br><span class="line"><span class="type">Wu</span></span><br><span class="line"><span class="type">You</span></span><br><span class="line"><span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组的map方法中调用（写法1）</span></span><br><span class="line">scala&gt; println(<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).map(increase).mkString(<span class="string">","</span>))</span><br><span class="line"><span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h2><h3 id="普通函数定义"><a href="#普通函数定义" class="headerlink" title="普通函数定义"></a>普通函数定义</h3><p>格式：<br>            [override][final][public/private/protected] def 函数名(参数列表):返回值声明 = {函数体}<br>        通过def关键字声明一个函数<br>        def前面可以通过private protected来控制其访问权限 没有public 不写默认就是public的<br>也可跟上override final等关键字修饰</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum1</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">        <span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在函数体中return关键字在不造成歧义的情况下可以省略，如果省略，则函数会将最后一个表达式的值作为返回值返回</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum1</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">    n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>大部分的情况下，函数可以自动推断返回值的类型，所以返回值类型的声明可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum1</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)=&#123;</span><br><span class="line">        n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果函数体只有一行内容，则包裹函数体的大括号可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum1</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)= n1 + n2;</span><br></pre></td></tr></table></figure>
<p>如果返回值的类型是Unit，则 :Unit= 可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum1</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)&#123;</span><br><span class="line">    println(n1 + n2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数直接量定义"><a href="#函数直接量定义" class="headerlink" title="函数直接量定义"></a>函数直接量定义</h3><p>格式：<br>(参数列表) =&gt; {函数体}<br>可以直接使用函数直接量快速定义一个函数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)=&gt;&#123;n1 + n2&#125;</span><br></pre></td></tr></table></figure>
<p>如果函数体只有一行内容，则包裹函数体的大括号 可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)=&gt;n1 + n2</span><br></pre></td></tr></table></figure>
<p>如果函数的参数类型可以自动推断，则函数参数类型声明可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(n1,n2)=&gt;n1 + n2 <span class="comment">//此处报错，并不是写法有问题，而是没有办法推断参数类型，所以报错</span></span><br></pre></td></tr></table></figure>
<p>如果函数的参数列表中只有一个参数，则在不引起歧义的情况下，包裹参数类型声明的小括号可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str:<span class="type">String</span>=&gt;str.toUpperCase()</span><br></pre></td></tr></table></figure>

<h2 id="函数的使用"><a href="#函数的使用" class="headerlink" title="函数的使用"></a>函数的使用</h2><h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><p>scala中将函数作为类的一个成员，就称为函类的成员方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 函数功能1 : 作为类的成员方法使用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> name:<span class="type">String</span> = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> age:<span class="type">Int</span>  = <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"说..."</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(food:<span class="type">String</span>)&#123;</span><br><span class="line">          println(<span class="string">"吃..."</span>+food)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="本地方法"><a href="#本地方法" class="headerlink" title="本地方法"></a>本地方法</h3><p>scala中可以在函数内部再定义函数 这种用法称之为 函数  用作 本地方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(food:<span class="type">String</span>)&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">cook</span></span>(food:<span class="type">String</span>)=&#123;</span><br><span class="line">     <span class="string">"熟的"</span>+food;</span><br><span class="line">  &#125;</span><br><span class="line">  println(<span class="string">"吃..."</span>+cook(food))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="函数值"><a href="#函数值" class="headerlink" title="函数值"></a>函数值</h3><p>函数本身可以理解为是一个对象,而函数名是指向这个对象的一个引用,所以可以将函数任意赋值给其他引用</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">  <span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> sum2 = sum(_,_);    </span><br><span class="line"><span class="keyword">val</span> r = sum2(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">print(r)</span><br></pre></td></tr></table></figure>
<p>也可以直接将一个函数直接量赋值给引用,从而通过引用调用该函数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> sum3 = (n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)=&gt;&#123;n1+n2&#125;</span><br><span class="line"><span class="keyword">val</span> r = sum3(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">println(r)</span><br></pre></td></tr></table></figure>

<h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><p>在scala中 函数可以作为另一个函数参数传递 或  作为另一个函数的返回值返回</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//高阶函数 - 将一个作为另一个方法的参数进行传递</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cook</span></span>(food:<span class="type">String</span>,how2CookFunc:(<span class="type">String</span>)=&gt;<span class="type">String</span>)=&#123;</span><br><span class="line">  how2CookFunc(food);</span><br><span class="line">&#125;  </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">h2c</span></span>(food:<span class="type">String</span>)=&#123;</span><br><span class="line">  <span class="string">"烤熟"</span>+food</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> r1 = cook(<span class="string">"羊肉串"</span>,h2c)</span><br><span class="line">println(r1)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">val</span> r2 = cook(<span class="string">"涮羊肉"</span>,(food:<span class="type">String</span>)=&gt;&#123;<span class="string">"煮熟的"</span>+food&#125;)</span><br><span class="line">println(r2)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">val</span> r3 = cook(<span class="string">"孜然羊肉"</span>,food=&gt;<span class="string">"炒熟的"</span>+food)</span><br><span class="line">println(r3)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">val</span> r4 = cook(<span class="string">"佛跳墙"</span>,food=&gt;<span class="string">"炖熟的"</span>+food)</span><br><span class="line">println(r4)</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//高阶函数 - 将一个作为另一个方法的返回值进行返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lookUpCaiPu</span></span>(cm:<span class="type">String</span>):(<span class="type">String</span>)=&gt;<span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span>(cm ==<span class="string">"羊肉串"</span>)&#123;</span><br><span class="line">          <span class="function"><span class="keyword">def</span> <span class="title">cookYRC</span></span>(food:<span class="type">String</span>) = &#123;</span><br><span class="line">            <span class="string">"烤熟"</span>+food</span><br><span class="line">          &#125;</span><br><span class="line">          cookYRC</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cm == <span class="string">"涮羊肉"</span>)&#123;</span><br><span class="line">          (food:<span class="type">String</span>)=&gt;&#123;<span class="string">"煮熟"</span>+food&#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cm == <span class="string">"孜然羊肉"</span>)&#123;</span><br><span class="line">          food=&gt;<span class="string">"炒熟"</span>+food</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          food =&gt; <span class="string">"做熟"</span>+food</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> h2cFunc = lookUpCaiPu(<span class="string">"涮羊肉"</span>);</span><br><span class="line">        <span class="keyword">val</span> r1 = h2cFunc(<span class="string">"涮羊肉"</span>)</span><br><span class="line">        println(r1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="占位符用法"><a href="#占位符用法" class="headerlink" title="占位符用法"></a>占位符用法</h3><p>在scala中,下划线 _ 是一个功能非常强大的特殊符号,可以在很多场景下实现非常好的占位符效果</p>
<p>a．使用占位符,替代函数直接量中的参数声明<br>当函数直接量中的所有参数 都只在函数体中使用过一次  且严格按声明顺序使用,则可以使用_替代这些参数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cook</span></span>(food1:<span class="type">String</span>,food2:<span class="type">String</span>,how2Cook:(<span class="type">String</span>,<span class="type">String</span>)=&gt;<span class="type">String</span>) = &#123;</span><br><span class="line">   how2Cook(food1,food2)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">val</span> r = cook(<span class="string">"羊肉串"</span>,<span class="string">"孜然"</span>,<span class="string">"烤熟"</span>+_+<span class="string">"撒"</span>+_)</span><br><span class="line"> <span class="keyword">val</span> r2 = cook(<span class="string">"羊肉串"</span>,<span class="string">"孜然"</span>,(f1,f2)=&gt;&#123;<span class="string">"撒"</span>+f2+<span class="string">"烤"</span>+f1+<span class="string">"撒"</span>+f2&#125;)<span class="comment">//此处无法使用_替代函数直接量中的参数</span></span><br><span class="line"> println(r)</span><br></pre></td></tr></table></figure>
<p>b. 使用占位符,替代函数值用法中的部分或全部参数列表</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>,n3:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line"><span class="keyword">return</span> n1 + n2 * n3;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> sum2 = sum(_,_,_);</span><br><span class="line"><span class="keyword">val</span> r1 = sum2(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">println(r1)</span><br><span class="line"><span class="keyword">val</span> sum3 = sum(_:<span class="type">Int</span>,_:<span class="type">Int</span>,<span class="number">10</span>);</span><br><span class="line"><span class="keyword">val</span> r2 = sum3(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">println(r2)</span><br></pre></td></tr></table></figure>
<h3 id="尾递归"><a href="#尾递归" class="headerlink" title="尾递归"></a>尾递归</h3><p>如果在递归时，保证函数每次递归最后一步操作都是在递归调用自己 则称这样的递归为尾递归 。<br>尾递归效率更高 ,应该尽力的取实现尾递归。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例：将0到100的奇数进行累加  但如果累加值超过了50，则不再进行累加，求最后的累加的值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sumx</span></span>(i:<span class="type">Int</span>,sum:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">  <span class="keyword">if</span>(sum&gt;<span class="number">50</span> || i &gt; <span class="number">100</span>) sum;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(i % <span class="number">2</span> != <span class="number">0</span>)&#123;</span><br><span class="line">          println(<span class="string">"本次递归"</span>)</span><br><span class="line">          sumx(i+<span class="number">1</span>,sum+i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">          println(<span class="string">"本次递归"</span>)</span><br><span class="line">    sumx(i+<span class="number">1</span>,sum)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> r  = sumx(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">println(r)</span><br></pre></td></tr></table></figure>



<h3 id="函数传名调用"><a href="#函数传名调用" class="headerlink" title="函数传名调用"></a>函数传名调用</h3><p>Scala的解释器在解析函数参数(function arguments)时有两种方式：</p>
<p>传值调用（call-by-value）：先计算参数表达式的值，再应用到函数内部；<br>传名调用（call-by-name）：将未计算的参数表达式直接应用到函数内部<br>在进入函数内部前，传值调用方式就已经将参数表达式的值计算完毕，而传名调用是在函数内部进行参数表达式的值计算的。</p>
<p>这就造成了一种现象，每次使用传名调用时，解释器都会计算一次表达式的值。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">        delayed(time());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">time</span></span>() = &#123;</span><br><span class="line">      println(<span class="string">"获取时间，单位为纳秒"</span>)</span><br><span class="line">      <span class="type">System</span>.nanoTime</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">delayed</span></span>( t: =&gt; <span class="type">Long</span> ) = &#123;</span><br><span class="line">      println(<span class="string">"在 delayed 方法内"</span>)</span><br><span class="line">      println(<span class="string">"参数： "</span> + t)</span><br><span class="line">      t</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上实例中我们声明了 delayed 方法， 该方法在变量名和变量类型使用 =&gt; 符号来设置传名调用。执行以上代码，输出结果如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ scalac <span class="type">Test</span>.scala </span><br><span class="line">$ scala <span class="type">Test</span></span><br><span class="line">在 delayed 方法内</span><br><span class="line">获取时间，单位为纳秒</span><br><span class="line">参数： <span class="number">241550840475831</span></span><br><span class="line">获取时间，单位为纳秒</span><br></pre></td></tr></table></figure>
<p>实例中 delay 方法打印了一条信息表示进入了该方法，接着 delay 方法打印接收到的值，最后再返回 t。</p>
<h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><p>Scala 允许你指明函数的最后一个参数可以是重复的，即我们不需要指定函数参数的个数，可以向函数传入可变长度参数列表。</p>
<p>Scala 通过在参数的类型之后放一个星号来设置可变参数(可重复的参数)。例如：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">        printStrings(<span class="string">"Runoob"</span>, <span class="string">"Scala"</span>, <span class="string">"Python"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">printStrings</span></span>( args:<span class="type">String</span>* ) = &#123;</span><br><span class="line">      <span class="keyword">var</span> i : <span class="type">Int</span> = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>( arg &lt;- args )&#123;</span><br><span class="line">         println(<span class="string">"Arg value["</span> + i + <span class="string">"] = "</span> + arg );</span><br><span class="line">         i = i + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="柯里化-自定义控制结构"><a href="#柯里化-自定义控制结构" class="headerlink" title="柯里化 - 自定义控制结构"></a>柯里化 - 自定义控制结构</h3><p>所谓的柯里化就是将一个函数的参数列表 拆分成多个参数列表的过程</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addAndPrint</span></span>(x:<span class="type">Int</span>,y:<span class="type">Int</span>,z:(<span class="type">Int</span>)=&gt;<span class="type">Unit</span>) = &#123;</span><br><span class="line">        <span class="keyword">val</span> sum = x+y</span><br><span class="line">        z(sum)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addAndPrint2</span></span>(x:<span class="type">Int</span>,y:<span class="type">Int</span>)(z:(<span class="type">Int</span>)=&gt;<span class="type">Unit</span>) = &#123;</span><br><span class="line">        <span class="keyword">val</span> sum = x+y</span><br><span class="line">        z(sum)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addAndPrint3</span></span>(x:<span class="type">Int</span>)(y:<span class="type">Int</span>)(z:(<span class="type">Int</span>)=&gt;<span class="type">Unit</span>) = &#123;</span><br><span class="line">        <span class="keyword">val</span> sum = x+y</span><br><span class="line">        z(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在scala中并没有提供太多的内置控制结构,而是以够用为标准提供了最基本的控制结构。<br>可以在scala中通过 高阶函数 + 柯里化 来实现自定义控制结构<br>在函数的参数列表中的最后 一项为高阶函数，通过柯里化，将最后 一个参数独立为一个单独的参数列表。在调用时，单独传入高阶函数，而最后一个参数列表中只有一个参数，可以将包裹它的小阔号写成大括号，则整个函数调用看起来就像一个自定义的控制结构一样。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span>  <span class="title">addAndPrint2</span></span>(x:<span class="type">Int</span>,y:<span class="type">Int</span>)(z:(<span class="type">Int</span>)=&gt;<span class="type">Unit</span>)&#123;</span><br><span class="line">        <span class="keyword">val</span> r = x+y;</span><br><span class="line">        z(r)</span><br><span class="line">&#125;</span><br><span class="line">addAndPrint2(<span class="number">2</span>, <span class="number">3</span>)&#123;</span><br><span class="line">        println(_)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包是一个函数，返回值依赖于声明在函数外部的一个或多个变量。</p>
<p>闭包通常来讲可以简单的认为是可以访问一个函数里面局部变量的另外一个函数。</p>
<p>如下面这段匿名的函数：<br><code>val multiplier = (i:Int) =&gt; i * 10</code><br>函数体内有一个变量 i，它作为函数的一个参数。如下面的另一段代码：<br><code>val multiplier = (i:Int) =&gt; i * factor</code><br>在 multiplier 中有两个变量：i 和 factor。其中的一个 i 是函数的形式参数，在 multiplier 函数被调用时，i 被赋予一个新的值。然而，factor不是形式参数，而是自由变量，考虑下面代码：<br><code>var factor = 3</code><br><code>val multiplier = (i:Int) =&gt; i * factor</code><br>这里我们引入一个自由变量 factor，这个变量定义在函数外面。</p>
<p>这样定义的函数变量 multiplier 成为一个”闭包”，因为它引用到函数外面定义的变量，定义这个函数的过程是将这个自由变量捕获而构成一个封闭的函数。</p>
<p>完整案例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;  </span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;  </span><br><span class="line">      println( <span class="string">"muliplier(1) value = "</span> +  multiplier(<span class="number">1</span>) )  </span><br><span class="line">      println( <span class="string">"muliplier(2) value = "</span> +  multiplier(<span class="number">2</span>) )  </span><br><span class="line">   &#125;  </span><br><span class="line">   <span class="keyword">var</span> factor = <span class="number">3</span>  </span><br><span class="line">   <span class="keyword">val</span> multiplier = (i:<span class="type">Int</span>) =&gt; i * factor  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>***闭包不是一种技术 而是一种现象。<br>闭包这种现象在很多时候都是有害，体现在，外部变量的变化造成程序执行时的不稳定 。以及 在使用高阶函数时，引用外部 环境变量，造成整个环境无法被释放，造成内存泄漏的等问题。<br>所以在函数编程开发过程中 ，要充分考虑闭包可能带来的危害，尽力去避免。</p>
<hr>
<h1 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h1><p>Scala里也有class关键字，不过它定义类的方式与Java有些区别。Scala中，类默认是public的，且类属性和方法默认也是public的。Scala中，每个类都有一个<strong>“主构造函数”</strong>，主构造函数类似函数参数一样写在类名后的小括号中。因为Scala没有像Java那样的“构造函数”，所有属性变量都会在类被创建后初始化。所以当你需要在构造函数里初始化某些属性或资源时，写在类中的属性变量就相当于构造初始化了。</p>
<p>在Scala中定义类非常简单：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">name: <span class="type">String</span>, val age: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>(): <span class="type">String</span> = <span class="string">s"姓名：<span class="subst">$name</span>, 年龄: <span class="subst">$age</span>"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>默认，Scala主构造函数定义的属性是private的，可以显示指定：val或var来使其可见性为：public。</p>
<p>Scala中覆写一个方法必需添加：override关键字，这对于Java来说可以是一个修正。当标记了override关键字的方法在编译时，若编译器未能在父类中找到可覆写的方法时会报错。而在Java中，你只能通过@Override注解来实现类似功能，它的问题是它只是一个可选项，且编译器只提供警告。这样你还是很容易写出错误的“覆写”方法，你以后覆写了父类函<br>数，但其实很有可能你是实现了一个新的方法，从而引入难以察觉的BUG。</p>
<h2 id="主构造函数"><a href="#主构造函数" class="headerlink" title="主构造函数"></a>主构造函数</h2><h3 id="主构造器可以使用默认参数"><a href="#主构造器可以使用默认参数" class="headerlink" title="主构造器可以使用默认参数"></a>主构造器可以使用默认参数</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//默认参数的主构建器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">val name:<span class="type">String</span>="",val age:<span class="type">Int</span>=18</span>)</span>&#123;</span><br><span class="line">  println(<span class="string">"constructing Person ........"</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>()= name + <span class="string">":"</span>+ age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> p=<span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">constructing <span class="type">Person</span> ........</span><br><span class="line">p: <span class="type">Person</span> = :<span class="number">18</span></span><br></pre></td></tr></table></figure>

<h3 id="主构造器中的参数可以加访问控制符"><a href="#主构造器中的参数可以加访问控制符" class="headerlink" title="主构造器中的参数可以加访问控制符"></a>主构造器中的参数可以加访问控制符</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认参数的主构建器，参数带访问控制符号</span></span><br><span class="line"><span class="comment">//age变成私有成员，其getter方法是私有的，外部不能访问</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">val name:<span class="type">String</span>="",private val age:<span class="type">Int</span>=18</span>)</span>&#123;</span><br><span class="line">  println(<span class="string">"constructing Person ........"</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>()= name + <span class="string">":"</span>+ age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当主构造器的参数不用var或val修饰的时候，参数会生成类的私有val成员，并且不会产生getter和setter方法</p>
<h3 id="在某些情况下，可能需要禁用主构建器"><a href="#在某些情况下，可能需要禁用主构建器" class="headerlink" title="在某些情况下，可能需要禁用主构建器"></a>在某些情况下，可能需要禁用主构建器</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类名后面紧跟private关键字可以将主构建器设为私有，不允许外部使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">private</span>(<span class="params">var name:<span class="type">String</span>,var age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  println(<span class="string">"constructing Person ........"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成的字节码文件如下，可以看到其构建函数已经为private了</span></span><br><span class="line"><span class="type">D</span>:\<span class="type">ScalaWorkspace</span>\<span class="type">ScalaChapter06</span>\bin\cn\scala\xtwy&gt;javap -<span class="keyword">private</span> <span class="type">Person</span></span><br><span class="line">警告: 二进制文件<span class="type">Person</span>包含cn.scala.xtwy.<span class="type">Person</span></span><br><span class="line"><span class="type">Compiled</span> from <span class="string">"Person.scala"</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">cn</span>.<span class="title">scala</span>.<span class="title">xtwy</span>.<span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> java.lang.<span class="type">String</span> name;</span><br><span class="line">  <span class="keyword">private</span> int age;</span><br><span class="line">  public java.lang.<span class="type">String</span> name();</span><br><span class="line">  public void name_$eq(java.lang.<span class="type">String</span>);</span><br><span class="line">  public int age();</span><br><span class="line">  public void age_$eq(int);</span><br><span class="line">  <span class="keyword">private</span> cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//此时不能直接这么用</span></span><br><span class="line">scala&gt; <span class="keyword">val</span> p=<span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"john"</span>,<span class="number">19</span>)</span><br><span class="line">&lt;console&gt;:<span class="number">9</span>: error: constructor <span class="type">Person</span> in <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">cannot</span> <span class="title">be</span> <span class="title">accessed</span> <span class="title">in</span> <span class="title">obj</span></span></span><br><span class="line"><span class="class"><span class="title">ect</span> <span class="title">$iw</span></span></span><br><span class="line"><span class="class">       <span class="title">val</span> <span class="title">p=new</span> <span class="title">Person</span>(<span class="params">"john",19</span>)</span></span><br><span class="line"><span class="class">             <span class="title">^</span></span></span><br></pre></td></tr></table></figure>

<h2 id="辅助构造函数"><a href="#辅助构造函数" class="headerlink" title="辅助构造函数"></a>辅助构造函数</h2><p>前面讲了，如果禁用掉了主构建器，则必须使用辅助构造函数来创建对象。辅助构造函数具有两个特点：（1）辅助构建器的名称为this，java中的辅助构造函数与类名相同，这常常会导致修改类名时出现不少问题，scala语言避免了这样的问题；（2）调用辅助构造函数时，必须先调用主构造函数或其它已经定义好的构造函数。</p>
<h3 id="只有辅助构造函数的Person类"><a href="#只有辅助构造函数的Person类" class="headerlink" title="只有辅助构造函数的Person类"></a>只有辅助构造函数的Person类</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只有辅助构造函数的类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="comment">//类成员</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> name:<span class="type">String</span>=<span class="literal">null</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> age:<span class="type">Int</span>=<span class="number">18</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> sex:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//辅助构造器</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    <span class="keyword">this</span>.name=name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name)</span><br><span class="line">    <span class="keyword">this</span>.age=age</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>,sex:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    <span class="keyword">this</span>.sex=sex</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字节码文件</span></span><br><span class="line"><span class="type">D</span>:\<span class="type">ScalaWorkspace</span>\<span class="type">ScalaChapter06</span>\bin\cn\scala\xtwy&gt;javap -<span class="keyword">private</span> <span class="type">Person</span></span><br><span class="line">警告: 二进制文件<span class="type">Person</span>包含cn.scala.xtwy.<span class="type">Person</span></span><br><span class="line"><span class="type">Compiled</span> from <span class="string">"Person.scala"</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">cn</span>.<span class="title">scala</span>.<span class="title">xtwy</span>.<span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> java.lang.<span class="type">String</span> name;</span><br><span class="line">  <span class="keyword">private</span> int age;</span><br><span class="line">  <span class="keyword">private</span> int sex;</span><br><span class="line">  <span class="keyword">private</span> java.lang.<span class="type">String</span> name();</span><br><span class="line">  <span class="keyword">private</span> void name_$eq(java.lang.<span class="type">String</span>);</span><br><span class="line">  <span class="keyword">private</span> int age();</span><br><span class="line">  <span class="keyword">private</span> void age_$eq(int);</span><br><span class="line">  <span class="keyword">private</span> int sex();</span><br><span class="line">  <span class="keyword">private</span> void sex_$eq(int);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>();</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int, int);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在定义辅助构造函数时，需要注意构造函数的顺序</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="comment">//类成员</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> name:<span class="type">String</span>=<span class="literal">null</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> age:<span class="type">Int</span>=<span class="number">18</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> sex:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//辅助构造器</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>,sex:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)<span class="comment">//此处会发生编译错误，这是因为def this(name:String,age:Int)没有被定义</span></span><br><span class="line">    <span class="keyword">this</span>.sex=sex</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    <span class="keyword">this</span>.name=name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name)</span><br><span class="line">    <span class="keyword">this</span>.age=age</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="带主构造函数、辅助构造函数的Person类"><a href="#带主构造函数、辅助构造函数的Person类" class="headerlink" title="带主构造函数、辅助构造函数的Person类"></a>带主构造函数、辅助构造函数的Person类</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//具有主构建函数和辅助构建函数的Person类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span>,var age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//类成员</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> sex:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//辅助构造器</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>,sex:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    <span class="keyword">this</span>.sex=sex</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">生成的字节码文件如下：</span><br><span class="line"><span class="type">D</span>:\<span class="type">ScalaWorkspace</span>\<span class="type">ScalaChapter06</span>\bin\cn\scala\xtwy&gt;javap -<span class="keyword">private</span> <span class="type">Person</span></span><br><span class="line">警告: 二进制文件<span class="type">Person</span>包含cn.scala.xtwy.<span class="type">Person</span></span><br><span class="line"><span class="type">Compiled</span> from <span class="string">"Person.scala"</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">cn</span>.<span class="title">scala</span>.<span class="title">xtwy</span>.<span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> java.lang.<span class="type">String</span> name;</span><br><span class="line">  <span class="keyword">private</span> int age;</span><br><span class="line">  <span class="keyword">private</span> int sex;</span><br><span class="line">  public java.lang.<span class="type">String</span> name();</span><br><span class="line">  public void name_$eq(java.lang.<span class="type">String</span>);</span><br><span class="line">  public int age();</span><br><span class="line">  public void age_$eq(int);</span><br><span class="line">  <span class="keyword">private</span> int sex();</span><br><span class="line">  <span class="keyword">private</span> void sex_$eq(int);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int, int);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="只通过辅助构造函数来创建对象"><a href="#只通过辅助构造函数来创建对象" class="headerlink" title="只通过辅助构造函数来创建对象"></a>只通过辅助构造函数来创建对象</h3><p>在主构造函数小节当中我们提到，有时候可能会禁用掉主构造函数，此时只能通过辅助构造函数来创建对象</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//禁用主构造函数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">private</span>(<span class="params">var name:<span class="type">String</span>,var age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//类成员</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> sex:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//辅助构造器</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>,sex:<span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    <span class="keyword">this</span>.sex=sex</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//其字节码文件内容如下</span></span><br><span class="line"><span class="type">D</span>:\<span class="type">ScalaWorkspace</span>\<span class="type">ScalaChapter06</span>\bin\cn\scala\xtwy&gt;javap -<span class="keyword">private</span> <span class="type">Person</span></span><br><span class="line">警告: 二进制文件<span class="type">Person</span>包含cn.scala.xtwy.<span class="type">Person</span></span><br><span class="line"><span class="type">Compiled</span> from <span class="string">"Person.scala"</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">cn</span>.<span class="title">scala</span>.<span class="title">xtwy</span>.<span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> java.lang.<span class="type">String</span> name;</span><br><span class="line">  <span class="keyword">private</span> int age;</span><br><span class="line">  <span class="keyword">private</span> int sex;</span><br><span class="line">  public java.lang.<span class="type">String</span> name();</span><br><span class="line">  public void name_$eq(java.lang.<span class="type">String</span>);</span><br><span class="line">  public int age();</span><br><span class="line">  public void age_$eq(int);</span><br><span class="line">  <span class="keyword">private</span> int sex();</span><br><span class="line">  <span class="keyword">private</span> void sex_$eq(int);</span><br><span class="line">  <span class="keyword">private</span> cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int);</span><br><span class="line">  public cn.scala.xtwy.<span class="type">Person</span>(java.lang.<span class="type">String</span>, int, int);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="单例对象"><a href="#单例对象" class="headerlink" title="单例对象"></a>单例对象</h2><p>单例对象就是一个独立存在的对象，直接由程序人员编写而成，直接就是一个对象，不需要通过类来创建。<br>通过object关键字就可以声明出一个单例对象。<br>单例对象是一个独立存在的对象，不需要new，直接就可以使用，来访问其中的属性和方法</p>
<p>如下:</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Car</span></span>&#123;</span><br><span class="line"> <span class="keyword">val</span> name:<span class="type">String</span> = <span class="string">"BMW"</span>;</span><br><span class="line"> <span class="keyword">val</span> age:<span class="type">Int</span> =  <span class="number">0</span>;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">run</span></span>()&#123;</span><br><span class="line">   println(<span class="string">"跑.."</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">stop</span></span>()&#123;</span><br><span class="line">   println(<span class="string">"停.."</span>)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo05</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="type">Car</span>.name</span><br><span class="line">    <span class="type">Car</span>.age</span><br><span class="line">    <span class="type">Car</span>.run()</span><br><span class="line">    <span class="type">Car</span>.stop();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>单例对象可以单独存在，也可以和一个类产生伴生的关系。<br>只要将单例对象和要伴生的类声明在同一个scala文件中，且单例对象的名字和类名相同，就可以将单例对象和类伴生在一起。<br>类称之为该单例对象的伴生类，单例对象称之为该类的伴生对象。<br>伴生类和伴生对象之间可以互相访问对方的私有成员。<br>通过将单例对象和类产生伴生关系，可以在单例对象中增加方法和属性，用起来感觉就像类具有了静态成员 。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单利对象 - 伴生</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person6</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> age = <span class="number">19</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="type">Person6</span>.name + <span class="string">"吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>()&#123;</span><br><span class="line">          println(<span class="string">"说。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person6</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> name =  <span class="string">"zhang"</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">run</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"跑。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Demo06</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="type">Person6</span>.run();</span><br><span class="line">    <span class="keyword">val</span> p = <span class="keyword">new</span> <span class="type">Person6</span>();</span><br><span class="line">    p.eat();</span><br><span class="line">    p.say();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="apply方法"><a href="#apply方法" class="headerlink" title="apply方法"></a>apply方法</h2><p>在前几节中我们提到，通过利用apply方法可以直接利用类名创建对象，例如前面在讲集合的时候，可以通过val intList=List(1,2,3)这种方式创建初始化一个列表对象，其实它相当于调用val intList=List.apply(1,2,3)，只不过val intList=List(1,2,3)这种创建方式更简洁一点，但我们必须明确的是这种创建方式仍然避免不了new，它后面的实现机制仍然是new的方式，只不过我们自己在使用的时候可以省去new的操作。下面就让我们来自己实现apply方法，代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义Student类，该类称为伴生类，因为在同一个源文件里面，我们还定义了object Student</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">var name:<span class="type">String</span>,var age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> sex:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line">  <span class="comment">//直接访问伴生对象的私有成员</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printCompanionObject</span></span>()=println(<span class="type">Student</span>.studentNo)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> studentNo:<span class="type">Int</span>=<span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">uniqueStudentNo</span></span>()=&#123;</span><br><span class="line">    studentNo+=<span class="number">1</span></span><br><span class="line">    studentNo</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//定义自己的apply方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>)=<span class="keyword">new</span> <span class="type">Student</span>(name,age)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="type">Student</span>.uniqueStudentNo())</span><br><span class="line">    <span class="keyword">val</span> s=<span class="keyword">new</span> <span class="type">Student</span>(<span class="string">"john"</span>,<span class="number">29</span>)</span><br><span class="line">    <span class="comment">//直接访问伴生类Student中的私有成员</span></span><br><span class="line">    println(s.sex)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//直接利用类名进行对象的创建，这种方式实际上是调用前面的apply方法进行实现，这种方式的好处是避免了自己手动new去创建对象</span></span><br><span class="line">    <span class="keyword">val</span> s1=<span class="type">Student</span>(<span class="string">"john"</span>,<span class="number">29</span>)</span><br><span class="line">    println(s1.name)</span><br><span class="line">    println(s1.age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>类似于java，scala同样支持抽象类的使用。<br>抽象类可以包含普通方法和抽象方法。<br>抽象类无法直接实例化，通常用来继承。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo9</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>()&#123;</span><br><span class="line">                 println(<span class="string">"哈哈"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>类似于java，scala同样支持继承,且只支持单继承。<br>可以通过extends关键字来实现继承</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person11</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = <span class="string">"zs"</span></span><br><span class="line">  <span class="keyword">val</span> age = <span class="number">19</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person11</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"学。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当父类为有参构造时，需要在子类继承的过程中，明确的传递父类构造函数需要的参数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person11</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person11</span>(<span class="params">"zs",19</span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"学。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果不希望写死父类构造参数，也可以基于子类构造参数进行传递</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person11</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person11</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"学。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="重写和重载"><a href="#重写和重载" class="headerlink" title="重写和重载"></a>重写和重载</h3><p>子类中可以覆盖父类的同名同参数的方法，这个过程称之为对父类方法实现重写。<br>另外，一个类的内部存在多个同名但参数不同的方法，这称之为方法的重载。<br>重写和java中不同，需要通过override关键字来进行<br>重载基本和java相同 。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person11</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person11</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//重写</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"边学边吃。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//重载</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>()&#123;</span><br><span class="line">    println(<span class="string">"学。。。"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(subject:<span class="type">String</span>)&#123;</span><br><span class="line">          println(<span class="string">"学。。。"</span>+subject)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="多态与动态绑定"><a href="#多态与动态绑定" class="headerlink" title="多态与动态绑定"></a>多态与动态绑定</h2><p>“多态”(Polymorphic)也叫“动态绑定”(Dynamic Binding)、“迟绑定”(Late Binding)，指“在执行期间（而非编译期间）判断所引用对象的实际类型，根据其实际类型调用其相应的方法。”即指子类的引用可以赋给父类，程序在运行时根据实际类型调用对应的方法<br>下面的代码演示了scala中的多态与动态绑定：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抽象Person类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span>,var age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">walk</span></span>():<span class="type">Unit</span></span><br><span class="line">  <span class="comment">//talkTo方法，参数为Person类型</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">talkTo</span></span>(p:<span class="type">Person</span>):<span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> studentNo:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">walk</span></span>()=println(<span class="string">"walk like a elegant swan"</span>)</span><br><span class="line">  <span class="comment">//重写父类的talkTo方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">talkTo</span></span>(p:<span class="type">Person</span>)=&#123;</span><br><span class="line">    println(<span class="string">"talkTo() method in Student"</span>)</span><br><span class="line">    println(<span class="keyword">this</span>.name+<span class="string">" is talking to "</span>+p.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> teacherNo:<span class="type">Int</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">walk</span></span>()=println(<span class="string">"walk like a elegant swan"</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//重写父类的talkTo方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">talkTo</span></span>(p:<span class="type">Person</span>)=&#123;</span><br><span class="line">    println(<span class="string">"talkTo() method in Teacher"</span>)</span><br><span class="line">    println(<span class="keyword">this</span>.name+<span class="string">" is talking to "</span>+p.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">demo</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//下面的两行代码演示了多态的使用</span></span><br><span class="line">     <span class="comment">//Person类的引用可以指向Person类的任何子类</span></span><br><span class="line">     <span class="keyword">val</span> p1:<span class="type">Person</span>=<span class="keyword">new</span> <span class="type">Teacher</span>(<span class="string">"albert"</span>,<span class="number">38</span>)</span><br><span class="line">     <span class="keyword">val</span> p2:<span class="type">Person</span>=<span class="keyword">new</span> <span class="type">Student</span>(<span class="string">"john"</span>,<span class="number">38</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//下面的两行代码演示了动态绑定</span></span><br><span class="line">     <span class="comment">//talkTo方法参数类型为Person类型</span></span><br><span class="line">     <span class="comment">//p1.talkTo(p2)传入的实际类型是Student</span></span><br><span class="line">     <span class="comment">//p2.talkTo(p1)传入的实际类型是Teacher</span></span><br><span class="line">     <span class="comment">//程序会根据实际类型调用对应的不同子类中的talkTo()方法</span></span><br><span class="line">     p1.talkTo(p2)</span><br><span class="line">     p2.talkTo(p1)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类层次结构"><a href="#类层次结构" class="headerlink" title="类层次结构"></a>类层次结构</h2><p>Scala中的类层次结构图如下：<br><img src="/2020/07/10/Scala-%E5%9F%BA%E7%A1%80/6.jpg" alt="img"><br>从上面的类层次结构图中可以看到，处于继承层次最顶层的是Any类，它是scala继承的根类，scala中所有的类都是它的子类<br>Any类中定义了下面几个方法:</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//==与!=被声明为final，它们不能被子类重写</span></span><br><span class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">==</span></span>(that: <span class="type">Any</span>): <span class="type">Boolean</span></span><br><span class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">!=</span></span>(that: <span class="type">Any</span>): <span class="type">Boolean</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">equals</span></span>(that: <span class="type">Any</span>): <span class="type">Boolean</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hashCode</span></span>: <span class="type">Int</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span></span><br></pre></td></tr></table></figure>
<p>从上面的代码看可以看到，Any类中共包括了五个方法，其中==与!=被声明为final类型的，因此它们不能被子类重写，事实上==的真正实现是通过equals方法来实现的，而!=是通过!equals来实现的，因此如果想改变==与!=方法的行为的话，可以直接对equals进行重写。</p>
<p>根类Any有两个子类，它们分别是AnyVal和AnyRef，其中AnyVal是所有scala内置的值类型（ Byte, Short, Char, Int, Long, Float, Double, Boolean, Unit.）的父类，其中 Byte, Short, Char, Int, Long, Float, Double, Boolean与java中的byte,short,char,int,long,float,double,boolean原生类型对应，而Unit对应java中的void类型，由于（ Byte, Short, Char, Int, Long, Float, Double, Boolean, Unit）继承AnyVal，而AnyVal又继承Any，因此它们也可以调用toString等方法。</p>
<p>AnyRef是Any的另外一个子类，它是scala中所有非值类型的父类，对应Java.lang.Object类（可以看作是java.lang.Object类的别名），也即它是所有引用类型的父类（除值类型外）。那为什么不直接Java.lang.Object作为scala非值引用类型的父类呢？这是因为Scala还可以运行在其它平台上如.Net，所以它使用了AnyRef这个类，在JVM上它对应的是java.lang.Object，而对于其它平台有不同的实现。</p>
<h1 id="Trait"><a href="#Trait" class="headerlink" title="Trait"></a>Trait</h1><p>scala和java语言一样，采用了很强的限制策略，避免了多种继承的问题。在java语言中，只允许继承一个超类，该类可以实现多个接口，但java接口有其自身的局限性：接口中只能包括抽象方法，不能包含字段、具体方法。Scala语言利用Trait解决了该问题，在scala的trait中，它不但可以包括抽象方法还可以包含字段和具体方法。trait的示例如下：</p>
<h2 id="Trait几种不同使用方式"><a href="#Trait几种不同使用方式" class="headerlink" title="Trait几种不同使用方式"></a>Trait几种不同使用方式</h2><ol>
<li><p>当做java接口使用的trait，如</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//trait定义演示</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DAO</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义一个抽象方法，注意不需要加abstract</span></span><br><span class="line">  <span class="comment">//加了abstract反而会报错</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>(id:<span class="type">String</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span>(o:<span class="type">Any</span>):<span class="type">Int</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">query</span></span>(id:<span class="type">String</span>):<span class="type">List</span>[<span class="type">Any</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>带具体实现的trait</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DAO</span></span>&#123;</span><br><span class="line">  <span class="comment">//delete方法有具体实现</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>(id:<span class="type">String</span>):<span class="type">Boolean</span>=&#123;</span><br><span class="line">    println(<span class="string">"delete implementation"</span>)</span><br><span class="line">    <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span>(o:<span class="type">Any</span>):<span class="type">Int</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">query</span></span>(id:<span class="type">String</span>):<span class="type">List</span>[<span class="type">Any</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>带抽象字段的trait</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DAO</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> recodeMount:<span class="type">Long</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>(id:<span class="type">String</span>):<span class="type">Boolean</span>=&#123;</span><br><span class="line">    println(<span class="string">"delete implementation"</span>)</span><br><span class="line">    <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span>(o:<span class="type">Any</span>):<span class="type">Int</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">query</span></span>(id:<span class="type">String</span>):<span class="type">List</span>[<span class="type">Any</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>具体字段的trait</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DAO</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> recodeMount:<span class="type">Long</span>=<span class="number">15000000000000</span>L</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>(id:<span class="type">String</span>):<span class="type">Boolean</span>=&#123;</span><br><span class="line">    println(<span class="string">"delete implementation"</span>)</span><br><span class="line">    <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span>(o:<span class="type">Any</span>):<span class="type">Int</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">query</span></span>(id:<span class="type">String</span>):<span class="type">List</span>[<span class="type">Any</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Scala/" rel="tag"># Scala</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/06/26/HttpServletRequest%E4%B8%AD-getRequestDispatcher-%E4%B8%8EsendRedirect-%E7%9A%84%E5%8C%BA%E5%88%AB/" rel="next" title="HttpServletRequest中 getRequestDispatcher()与sendRedirect() 的区别">
                <i class="fa fa-chevron-left"></i> HttpServletRequest中 getRequestDispatcher()与sendRedirect() 的区别
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/09/14/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/" rel="prev" title="前端笔记">
                前端笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="piyi" />
            
              <p class="site-author-name" itemprop="name">piyi</p>
              <p class="site-description motion-element" itemprop="description">piyi</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/996870382" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Scala基本类型及操作"><span class="nav-number">1.</span> <span class="nav-text">Scala基本类型及操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#基础数据类型"><span class="nav-number">1.1.</span> <span class="nav-text">基础数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串"><span class="nav-number">1.1.1.</span> <span class="nav-text">字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scala基本类型操作"><span class="nav-number">1.2.</span> <span class="nav-text">Scala基本类型操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#算术操作"><span class="nav-number">1.2.1.</span> <span class="nav-text">算术操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关系运算"><span class="nav-number">1.2.2.</span> <span class="nav-text">关系运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#逻辑运算"><span class="nav-number">1.2.3.</span> <span class="nav-text">逻辑运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#位运算"><span class="nav-number">1.2.4.</span> <span class="nav-text">位运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象比较"><span class="nav-number">1.2.5.</span> <span class="nav-text">对象比较</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#控制语句"><span class="nav-number">2.</span> <span class="nav-text">控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#if"><span class="nav-number">2.1.</span> <span class="nav-text">if</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#while"><span class="nav-number">2.2.</span> <span class="nav-text">while</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for"><span class="nav-number">2.3.</span> <span class="nav-text">for</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#match-case"><span class="nav-number">2.4.</span> <span class="nav-text">match case</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组"><span class="nav-number">3.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#定长数组"><span class="nav-number">3.1.</span> <span class="nav-text">定长数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#变长数组-ArrayBuffer"><span class="nav-number">3.2.</span> <span class="nav-text">变长数组 ArrayBuffer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的遍历"><span class="nav-number">3.3.</span> <span class="nav-text">数组的遍历</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组转换"><span class="nav-number">3.4.</span> <span class="nav-text">数组转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组操作中的常用算法"><span class="nav-number">3.5.</span> <span class="nav-text">数组操作中的常用算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多维数组"><span class="nav-number">3.6.</span> <span class="nav-text">多维数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#集合"><span class="nav-number">4.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mutable、immutable集合"><span class="nav-number">4.1.</span> <span class="nav-text">mutable、immutable集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#scala集合类的层次结构"><span class="nav-number">4.1.1.</span> <span class="nav-text">scala集合类的层次结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可变集合与不可变集合对应关系"><span class="nav-number">4.1.2.</span> <span class="nav-text">可变集合与不可变集合对应关系</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#List"><span class="nav-number">4.2.</span> <span class="nav-text">List</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#List常用构造方法"><span class="nav-number">4.2.1.</span> <span class="nav-text">List常用构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#List常用操作"><span class="nav-number">4.2.2.</span> <span class="nav-text">List常用操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#List伴生对象方法"><span class="nav-number">4.2.3.</span> <span class="nav-text">List伴生对象方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set"><span class="nav-number">4.3.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Map"><span class="nav-number">4.4.</span> <span class="nav-text">Map</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Option-None-Some类型"><span class="nav-number">4.4.1.</span> <span class="nav-text">Option,None,Some类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tuple"><span class="nav-number">4.5.</span> <span class="nav-text">Tuple</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#队列-queue"><span class="nav-number">4.6.</span> <span class="nav-text">队列 queue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#栈-Stack"><span class="nav-number">4.7.</span> <span class="nav-text">栈 Stack</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数与闭包"><span class="nav-number">5.</span> <span class="nav-text">函数与闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数字面量（值函数）"><span class="nav-number">5.1.</span> <span class="nav-text">函数字面量（值函数）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数的定义"><span class="nav-number">5.2.</span> <span class="nav-text">函数的定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#普通函数定义"><span class="nav-number">5.2.1.</span> <span class="nav-text">普通函数定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数直接量定义"><span class="nav-number">5.2.2.</span> <span class="nav-text">函数直接量定义</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数的使用"><span class="nav-number">5.3.</span> <span class="nav-text">函数的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#成员方法"><span class="nav-number">5.3.1.</span> <span class="nav-text">成员方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地方法"><span class="nav-number">5.3.2.</span> <span class="nav-text">本地方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数值"><span class="nav-number">5.3.3.</span> <span class="nav-text">函数值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高阶函数"><span class="nav-number">5.3.4.</span> <span class="nav-text">高阶函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#占位符用法"><span class="nav-number">5.3.5.</span> <span class="nav-text">占位符用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#尾递归"><span class="nav-number">5.3.6.</span> <span class="nav-text">尾递归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数传名调用"><span class="nav-number">5.3.7.</span> <span class="nav-text">函数传名调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可变参数"><span class="nav-number">5.3.8.</span> <span class="nav-text">可变参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#柯里化-自定义控制结构"><span class="nav-number">5.3.9.</span> <span class="nav-text">柯里化 - 自定义控制结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭包"><span class="nav-number">5.4.</span> <span class="nav-text">闭包</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类和对象"><span class="nav-number">6.</span> <span class="nav-text">类和对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#主构造函数"><span class="nav-number">6.1.</span> <span class="nav-text">主构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主构造器可以使用默认参数"><span class="nav-number">6.1.1.</span> <span class="nav-text">主构造器可以使用默认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#主构造器中的参数可以加访问控制符"><span class="nav-number">6.1.2.</span> <span class="nav-text">主构造器中的参数可以加访问控制符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在某些情况下，可能需要禁用主构建器"><span class="nav-number">6.1.3.</span> <span class="nav-text">在某些情况下，可能需要禁用主构建器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#辅助构造函数"><span class="nav-number">6.2.</span> <span class="nav-text">辅助构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#只有辅助构造函数的Person类"><span class="nav-number">6.2.1.</span> <span class="nav-text">只有辅助构造函数的Person类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#带主构造函数、辅助构造函数的Person类"><span class="nav-number">6.2.2.</span> <span class="nav-text">带主构造函数、辅助构造函数的Person类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#只通过辅助构造函数来创建对象"><span class="nav-number">6.2.3.</span> <span class="nav-text">只通过辅助构造函数来创建对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单例对象"><span class="nav-number">6.3.</span> <span class="nav-text">单例对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#apply方法"><span class="nav-number">6.4.</span> <span class="nav-text">apply方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象类"><span class="nav-number">6.5.</span> <span class="nav-text">抽象类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承"><span class="nav-number">6.6.</span> <span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#重写和重载"><span class="nav-number">6.6.1.</span> <span class="nav-text">重写和重载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多态与动态绑定"><span class="nav-number">6.7.</span> <span class="nav-text">多态与动态绑定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类层次结构"><span class="nav-number">6.8.</span> <span class="nav-text">类层次结构</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Trait"><span class="nav-number">7.</span> <span class="nav-text">Trait</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Trait几种不同使用方式"><span class="nav-number">7.1.</span> <span class="nav-text">Trait几种不同使用方式</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">piyi</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  





  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_sphere.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
